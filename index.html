<!DOCTYPE html>
<html lang="da">
  <head>
    <meta charset="UTF-8" />
    <title>Opret spiller</title>

    <style>
      body {
        margin: 0;
        font-family: "Comic Sans MS", "Comic Sans", cursive;
      }

      .page {
        display: flex;
        height: 100vh;
      }

      .left {
        width: 50%;
        padding: 40px;
        box-sizing: border-box;
      }

      .right {
        width: 50%;
        padding: 30px;
        box-sizing: border-box;
        background: #f2f2f2;
      }

      .face-box {
        width: 320px;
        height: 420px;
        margin: 0 auto 30px;
        background: white;
        border: 3px solid #333;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: background 0.25s ease;
      }

      h1 {
        text-align: center;
      }

      .positions {
        display: grid;
        grid-template-columns: repeat(2, 150px);
        gap: 15px;
        justify-content: center;
        margin-bottom: 30px;
      }

      .position-btn {
        padding: 15px;
        cursor: pointer;
        font-size: 16px;
        border: none;
      }

      /* Position farver */
      .goalkeeper { background: #4da3ff; }
      .goalkeeper.selected { background: #1f6fd1; color: white; }

      .defender { background: #ffe066; }
      .defender.selected { background: #d4b000; }

      .midfielder { background: #6fdc8c; }
      .midfielder.selected { background: #2fa45a; color: white; }

      .attacker { background: #ff6b6b; }
      .attacker.selected { background: #c92a2a; color: white; }

      #status {
        text-align: center;
        margin-bottom: 20px;
        font-weight: bold;
      }

      button {
        display: block;
        margin: 0 auto;
        padding: 12px 25px;
        font-size: 16px;
        cursor: pointer;
        font-family: "Comic Sans MS", "Comic Sans", cursive;
      }

      /* Appearance editor */
      .editor {
        max-width: 360px;
        margin: 0 auto;
      }

      .row {
        display: grid;
        grid-template-columns: 1fr 40px 80px 40px;
        align-items: center;
        margin-bottom: 10px;
      }

      .row span {
        text-align: center;
      }

      .arrow {
        cursor: pointer;
        font-size: 20px;
        user-select: none;
      }
    </style>
  </head>

  <body>
    <div class="page">
      <!-- VENSTRE -->
      <div class="left">
        <h1>Opret spiller</h1>
        <p style="text-align: center">Vælg position</p>

        <div class="positions">
          <div class="position-btn goalkeeper" onclick="selectPosition('målmand', this)">Målmand</div>
          <div class="position-btn defender" onclick="selectPosition('forsvar', this)">Forsvar</div>
          <div class="position-btn midfielder" onclick="selectPosition('midtbane', this)">Midtbane</div>
          <div class="position-btn attacker" onclick="selectPosition('angreb', this)">Angreb</div>
        </div>

        <div id="status">Ingen position valgt</div>
        <button onclick="continueNext()">Fortsæt</button>
      </div>

      <!-- HØJRE -->
      <div class="right">
        <div class="face-box" id="faceBox">
          Ansigt
        </div>

        <div class="editor" id="editor"></div>
      </div>
    </div>

    <script>
      let selectedPosition = null;

      const appearance = {
        hud: [1, 6],
        hår: [1, 14],
        hårfarve: [1, 7],
        øjne: [1, 6],
        ører: [1, 4],
        næse: [1, 5],
        mund: [1, 5],
        skæg: [1, 8],
        skægfarve: [1, 7],
        hals: [1, 5]
      };

      const values = {};
      Object.keys(appearance).forEach(k => values[k] = 1);

      function renderEditor() {
        const editor = document.getElementById("editor");
        editor.innerHTML = "";

        Object.keys(appearance).forEach(key => {
          const [min, max] = appearance[key];

          editor.innerHTML += `
            <div class="row">
              <div>${key}</div>
              <div class="arrow" onclick="changeValue('${key}', -1)">◀</div>
              <span>${values[key]} / ${max}</span>
              <div class="arrow" onclick="changeValue('${key}', 1)">▶</div>
            </div>
          `;
        });
      }

      function changeValue(key, delta) {
        const max = appearance[key][1];
        values[key] += delta;
        if (values[key] < 1) values[key] = max;
        if (values[key] > max) values[key] = 1;
        renderEditor();
      }

      function selectPosition(position, element) {
        selectedPosition = position;
        document.querySelectorAll(".position-btn").forEach(b => b.classList.remove("selected"));
        element.classList.add("selected");
        document.getElementById("status").innerText = "Valgt position: " + position;

        const faceBox = document.getElementById("faceBox");
        if (position === "målmand") faceBox.style.background = "#4da3ff";
        if (position === "forsvar") faceBox.style.background = "#ffe066";
        if (position === "midtbane") faceBox.style.background = "#6fdc8c";
        if (position === "angreb") faceBox.style.background = "#ff6b6b";
      }

      function continueNext() {
        if (!selectedPosition) {
          alert("Du skal vælge en position først");
          return;
        }

        localStorage.setItem("playerDraft", JSON.stringify({
          position: selectedPosition,
          appearance: values
        }));

        alert("Spiller gemt midlertidigt");
      }

      renderEditor();
    </script>
  </body>
</html>
